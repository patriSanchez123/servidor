<!doctype html>
<html lang="es">
<head>
<link rel="stylesheet" type="text/css" href="base.css" />
<link rel="stylesheet" type="text/css" href="content.css" />
<link rel="stylesheet" type="text/css" href="nav.css" />
<meta http-equiv="content-type" content="text/html;  charset=utf-8" />
<title>1.1.- Mecanismos de autentificación (I). | Tema 3 </title>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<meta name="author" content="NONAME" />
<meta name="generator" content="eXeLearning 2.4.2 - exelearning.net" />
<!--[if lt IE 9]><script type="text/javascript" src="exe_html5.js"></script><![endif]-->
<script type="text/javascript" src="exe_jquery.js"></script>
<script type="text/javascript" src="common_i18n.js"></script>
<script type="text/javascript" src="common.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" /></head>
<body class="exe-web-site" id="exe-node-2"><script type="text/javascript">document.body.className+=" js"</script>
<div id="content">
<p id="skipNav"><a href="#main" class="sr-av">Saltar la navegación</a></p>
<header id="header" ><div id="headerContent">Tema 3</div></header>
<nav id="siteNav">
<ul>
   <li><a href="index.html" class="daddy main-node">Desarrollo de aplicaciones web con PHP.</a></li>
   <li class="current-page-parent"><a href="1_autentificacin_de_usuarios_y_control_de_acceso.html" class="current-page-parent daddy">1.- Autentificación de usuarios y control de acceso.</a>
   <ul>
      <li id="active"><a href="11_mecanismos_de_autentificacin_i.html" class="active daddy">1.1.- Mecanismos de autentificación (I).</a>
      <ul>
         <li><a href="111_mecanismos_de_autentificacin_ii.html" class="no-ch">1.1.1.- Mecanismos de autentificación (II).</a></li>
      </ul>
      </li>
      <li><a href="12_incorporacin_de_mtodos_de_autentificacin_a_una_aplicacin_web.html" class="no-ch">1.2.- Incorporación de métodos de autentificación a una aplicación web.</a></li>
   </ul>
   </li>
   <li><a href="2_cookies.html" class="no-ch">2.- Cookies.</a></li>
   <li><a href="3_manejo_de_sesiones.html" class="daddy">3.- Manejo de sesiones.</a>
   <ul class="other-section">
      <li><a href="31_configuracin.html" class="no-ch">3.1.- Configuración.</a></li>
      <li><a href="32_inicio_y_fin_de_una_sesin.html" class="no-ch">3.2.- Inicio y fin de una sesión.</a></li>
      <li><a href="33_gestin_de_la_informacin_de_la_sesin_i.html" class="daddy">3.3.- Gestión de la información de la sesión (I).</a>
      <ul class="other-section">
         <li><a href="331_gestin_de_la_informacin_de_la_sesin_ii.html" class="no-ch">3.3.1.- Gestión de la información de la sesión (II).</a></li>
         <li><a href="332_gestin_de_la_informacin_de_la_sesin_iii.html" class="no-ch">3.3.2.- Gestión de la información de la sesión (III).</a></li>
         <li><a href="333_gestin_de_la_informacin_de_la_sesin_iv.html" class="no-ch">3.3.3.- Gestión de la información de la sesión (IV).</a></li>
      </ul>
      </li>
   </ul>
   </li>
   <li><a href="4_herramientas_para_depuracin_de_cdigo.html" class="daddy">4.- Herramientas para depuración de código.</a>
   <ul class="other-section">
      <li><a href="41_instalacin_de_herramientas_de_depuracin.html" class="no-ch">4.1.- Instalación de herramientas de depuración.</a></li>
      <li><a href="42_depuracin_de_cdigo_en_php.html" class="no-ch">4.2.- Depuración de código en PHP.</a></li>
   </ul>
   </li>
</ul>
</nav>
<div id='topPagination'>
<nav class="pagination noprt">
<a href="1_autentificacin_de_usuarios_y_control_de_acceso.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="111_mecanismos_de_autentificacin_ii.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
<div id="main-wrapper">
<section id="main">
<header id="nodeDecoration"><h1 id="nodeTitle">1.1.- Mecanismos de autentificación (I).</h1></header>
<article class="iDevice_wrapper FreeTextfpdIdevice" id="id6">
<div class="iDevice emphasis0">
<div id="ta6_73" class="block iDevice_content">
<p>El protocolo <span lang="en">HTTP</span> ofrece un método sencillo para autentificar a los usuarios. El proceso es el siguiente:</p>
<ul class="lista_verificacion">
<li>El servidor <span lang="en">web</span> debe proveer algún método para definir los usuarios que se utilizarán y cómo se pueden autentificar. Además, se tendrán que definir los recursos a los que se restringe el acceso y qué <a class="glosario">lista de control de acceso<span><em>Lista de control de acceso</em>Es una lista de permisos sobre un objeto (fichero, directorio, etc.), que indica qué usuarios pueden utilizar el objeto y las acciones concretas que pueden realizar con el mismo (lectura, escritura, borrado, etc.).</span></a>(<acronym title="Access Control List. Lista de Control de Acceso." lang="en">ACL</acronym>) se aplica a cada uno.</li>
<li>Cuando un usuario no autentificado intenta acceder a un recurso restringido, el servidor <span lang="en">web</span> responde con un error de "Acceso no autorizado" (código 401).</li>
<li>El navegador recibe el error y abre una ventana para solicitar al usuario que se autentifique mediante su nombre y contraseña.
<div class="elemento_centrado">
<div class="elemento_centrado">
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Login HTTP." href="DWES04_CONT_R02_Autentificacion_HTTP.jpg" target="_blank"><img src="DWES04_CONT_R02_Autentificacion_HTTP_miniatura.jpg" alt="Captura de la ventana de introducción de credenciales HTTP en el navegador Firefox. Se muestra el texto “Identificación requerida” y se pide la introducción de un nombre de usuario y una contraseña." title="Login HTTP." class="imagen_ampliable" height="52" width="200" /></a></div>
<div class="elemento_centrado credenciales"><a class="cc0" title="Dominio público" href="http://creativecommons.org/publicdomain/zero/1.0/deed.es" target="_blank"><span class="transparente">Dominio público</span></a> Elaboración Propia</div>
</div>
</div>
</div>
</li>
<li>La información de autentificación del usuario se envía al servidor, que la verifica y decide si permite o no el acceso al recurso solicitado. Esta información se mantiene en el navegador para utilizarse en posteriores peticiones a ese servidor.</li>
</ul>
<p>En el servidor <span lang="en">web</span> Apache, el que has estado usando en anteriores unidades, existe una utilidad en línea de comandos, <code>htpasswd</code>, que permite almacenar en un fichero una lista de usuarios y sus respectivas contraseñas. La información relativa a las contraseñas se almacena cifrada; aun así, es conveniente crear este fichero en un lugar no accesible por los usuarios del servidor <span lang="en">web</span>.</p>
<p class="enlace_centrado"><a title="Acceder a la herramienta de Apache para mantener listas de usuarios y contraseñas usados en autentificación HTTP." href="http://httpd.apache.org/docs/2.0/es/howto/auth.html">Utilidad en línea de comandos, <code>htpasswd</code>.</a></p>
<p>Por ejemplo, para crear el fichero de usuario y añadirle el usuario "dwes", puedes hacer:</p>
<div class="codigo elemento_centrado" style="width: 20.85em;">
<div class="texto_izquierda">
<pre><code>sudo htpasswd –c users dwes</code>
</pre>
</div>
</div>
<p>e introducir la contraseña correspondiente a ese usuario.</p>
<div class="elemento_centrado">
<div class="elemento_centrado">
<div class="elemento_centrado">
<div class="elemento_centrado"><a title="Utilización herramienta htpasswd." href="DWES04_CONT_R02b_htpasswd.jpg" target="_blank"><img src="DWES04_CONT_R02b_htpasswd_miniatura.jpg" alt="Captura de pantalla de una consola de sistema en Ubuntu Linux en la que se muestra la utilización de la herramienta htpasswd para crear un fichero de autentificación de usuarios." title="Utilización herramienta htpasswd." class="imagen_ampliable" height="72" width="192" /></a></div>
<div class="elemento_centrado credenciales"><a class="cc0" title="Dominio público" href="http://creativecommons.org/publicdomain/zero/1.0/deed.es" target="_blank"><span class="transparente">Dominio público</span></a> Elaboración Propia</div>
</div>
</div>
</div>
<p>La opción –c indica que se debe crear el fichero, por lo que solo deberás usarla cuando introduzcas el primer usuario y contraseña. Fíjate que en el ejemplo anterior, el fichero se crea en la ruta <strong>/etc/apache2/users</strong>, que en principio no es accesible vía <span lang="en">web</span>.</p>
<p>Para indicarle al servidor Apache qué recursos tienen acceso restringido, una opción es crear un fichero <strong>.htaccess</strong> en el directorio en que se encuentren, con las siguientes directivas:</p>
<div class="codigo elemento_centrado" style="width: 23.6em;">
<div class="texto_izquierda">
<pre><code>AuthName "Contenido restringido"</code>
</pre>
<pre><code>AuthType Basic</code>
</pre>
<pre><code>AuthUserFile /etc/apache2/users</code>
</pre>
<pre> </pre>
<pre><code>require valid-user </code>
</pre>
</div>
</div>
<p>El significado de cada una de las directivas anteriores es el siguiente:</p>
<table class="tabla" summary="Cuadro o tabla de cuatro filas por dos columnas, de título 'Directivas de autentificación en Apache', de modo que para cada directiva nos indica su significado correspondiente. Debe ser leída en filas de izquierda a derecha."><caption>Directivas de autentificación en Apache.</caption>
<thead>
<tr>
<th scope="col">Directiva</th>
<th scope="col">Significado</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<div class="codigo elemento_centrado" style="width: 10.4em;">
<div class="texto_izquierda">
<pre><code>AuthName</code>
</pre>
</div>
</div>
</td>
<td>Nombre de dominio que se usará en la autentificación. Si el cliente se autentifica correctamente, esa misma información de autentificación se utilizará automáticamente en el resto de las páginas del mismo dominio.</td>
</tr>
<tr>
<td>
<div class="codigo elemento_centrado" style="width: 10.4em;">
<div class="texto_izquierda">
<pre><code>AuthType</code>
</pre>
</div>
</div>
</td>
<td>Método de autentificación que se usará. Además del método <code>Basic</code>, Apache también permite utilizar el método <code>Digest</code>.</td>
</tr>
<tr>
<td>
<div class="codigo elemento_centrado" style="width: 12.6em;">
<div class="texto_izquierda">
<pre><code>AuthUserFile</code>
</pre>
</div>
</div>
</td>
<td>Ruta al archivo de credenciales que has creado con <code>htpasswd</code>.</td>
</tr>
<tr>
<td>
<div class="codigo elemento_centrado" style="width: 9.85em;">
<div class="texto_izquierda">
<pre><code>Require</code>
</pre>
</div>
</div>
</td>
<td>Permite indicar que sólo puedan acceder algunos usuarios o grupos de usuarios concretos. Si indicamos "<code>valid-user</code>", podrán acceder todos los usuarios que se autentifiquen correctamente.</td>
</tr>
</tbody>
</table>
<p>Además tendrás que asegurarte de que en la configuración de Apache se utiliza la directiva <code>AllowOverride</code> para que se aplique correctamente la configuración que figura en los ficheros <code>.htaccess</code>.</p>
<p class="enlace_centrado"><a title="Acceder a la directiva de Apache que permite configurar la utilización de los ficheros .htaccess." href="http://httpd.apache.org/docs/2.0/es/mod/core.html#allowoverride">Directiva <code>AllowOverride</code>.</a></p>
</div>
</div>
</article>
<article class="iDevice_wrapper EleccionmultiplefpdIdevice em_iDevice" id="id20">
<div class="iDevice emphasis_autoevaluacionfpd" >
<header class="iDevice_header" style="background-image:url(icon_autoevaluacionfpd.gif)"><h1 class="iDeviceTitle">Autoevaluación</h1></header>
<div class="iDevice_inner">
<div class="iDevice_content_wrapper">
<section class="question">
<form name="multi-choice-form-20_60" action="#" onsubmit="return false" class="activity-form">
<h1 class="js-sr-av">Pregunta</h1>
<div id="taquestion20_60" class="block question iDevice_content">
<p>
<strong>La sentencia <code>sudo htpasswd –c users admin</code> añade un nuevo usuario con nombre &quot;admin&quot; al fichero &quot;users&quot; que hemos creado anteriormente</strong>.
</p>

</div>
<section class="iDevice_answers">
<h1 class="js-sr-av">Respuestas</h1>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i20_63" class="sr-av"><a href="#answer-20_63">Opción 1</a></label><input type="radio" name="option20_60" id="i20_63" class="exe-radio-option exe-radio-option-0-2-20_60-multi"/>
</p>
<div class="iDevice_answer-content" id="answer-20_63"><div id="taans20_63" class="block iDevice_content">
Verdadero.

</div>
</div>
</section>
<section class="iDevice_answer">
<p class="iDevice_answer-field js-required">
<label for="i20_93" class="sr-av"><a href="#answer-20_93">Opción 2</a></label><input type="radio" name="option20_60" id="i20_93" class="exe-radio-option exe-radio-option-1-2-20_60-multi"/>
</p>
<div class="iDevice_answer-content" id="answer-20_93"><div id="taans20_93" class="block iDevice_content">
Falso.

</div>
</div>
</section>
</section>
<section class="iDevice_feedbacks js-feedback">
<h1 class="js-sr-av">Retroalimentación</h1>
<section id="sa0b20_60" class="feedback js-hidden">
<div id="taf20_63" class=" iDevice_content">
Recuerda, ¿cuál es el significado de la opción –c dentro de la orden anterior?

</div>
</section>
<section id="sa1b20_60" class="feedback js-hidden">
<div id="taf20_93" class=" iDevice_content">
Efectivamente. Al incluir la opción –c lo que hacemos es crear un nuevo fichero, con lo cual eliminamos el contenido anterior del mismo.

</div>
</section>
</section>
</form>
<section class="iDevice_solution feedback js-hidden">
<h1>Solución</h1>
<ol>
<li><a href="#answer-20_63">Incorrecto</a><span> (<a href="#sa0b20_60">Retroalimentación</a>)</span></li>
<li><a href="#answer-20_93">Opción correcta</a><span> (<a href="#sa1b20_60">Retroalimentación</a>)</span></li>
</ol>
</section>
</section>
</div>
</div>
</div>
</article>
</section>
</div>
<div id='bottomPagination'>
<nav class="pagination noprt">
<a href="1_autentificacin_de_usuarios_y_control_de_acceso.html" class="prev"><span><span>&laquo; </span>Anterior</span></a> <span class="sep">| </span><a href="111_mecanismos_de_autentificacin_ii.html" class="next"><span>Siguiente<span> &raquo;</span></span></a>
</nav>
</div>
</div>
<script type="text/javascript" src="_fpd_js.js"></script></body></html>